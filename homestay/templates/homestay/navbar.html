{% load static %}

<nav class="navbar navbar-expand-lg navbar-dark bg-gradient">
    <!-- Brand -->
    <a class="navbar-brand" href="{% url 'home' %}">
        <img src="{% static 'homestay/images/logo.png' %}" alt="Homestay Logo" class="logo">
        <span>Homestay</span>
    </a>

    <!-- Toggler Button for Mobile View -->
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#mainNav" aria-controls="mainNav" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
    </button>

    <!-- Navbar Links -->
    <div class="collapse navbar-collapse" id="mainNav">
        <!-- Left Menu -->
        <ul class="navbar-nav me-auto mb-2 mb-lg-0">
            <li class="nav-item {% if request.resolver_match.url_name == 'home' %}active{% endif %}">
                <a class="nav-link" href="{% url 'home' %}"><i class="bi bi-house-door"></i> Home</a>
            </li>
            <li class="nav-item {% if request.resolver_match.url_name == 'about' %}active{% endif %}">
                <a class="nav-link" href="{% url 'about' %}"><i class="bi bi-info-circle"></i> About</a>
            </li>
            <li class="nav-item {% if request.resolver_match.url_name == 'homestays' %}active{% endif %}">
                <a class="nav-link" href="{% url 'homestays' %}"><i class="bi bi-person-vcard"></i> Homestay</a>
            </li>
            <li class="nav-item {% if request.resolver_match.url_name == 'contact' %}active{% endif %}">
                <a class="nav-link" href="{% url 'contact' %}"><i class="bi bi-envelope"></i> Contact</a>
            </li>
        </ul>

        <!-- Right Menu -->
        <ul class="navbar-nav ml-auto">
            {% if user.is_authenticated %}

                <li class="nav-item {% if request.resolver_match.url_name == 'bookings' %}active{% endif %}">
                    <a class="nav-link" href="{% url 'bookings' %}"><i class="bi bi-card-checklist"></i> My Bookings</a>
                </li>
                <li class="nav-item {% if request.resolver_match.url_name == 'profile' %}active{% endif %}">
                    <a class="nav-link" href="{% url 'profile' %}"><i class="bi bi-person-circle"></i>{{ user.username }}</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link text-danger" href="{% url 'logout' %}"><i class="bi bi-door-closed"></i> Logout</a>
                </li>
            {% else %}
                <li class="nav-item {% if request.resolver_match.url_name == 'register' %}active{% endif %}">
                    <a class="nav-link" href="{% url 'register' %}"><i class="bi bi-person-plus"></i> Register</a>
                </li>
                <li class="nav-item {% if request.resolver_match.url_name == 'login' %}active{% endif %}">
                    <a class="nav-link" href="{% url 'login' %}"><i class="bi bi-box-arrow-in-right"></i> Login</a>
                </li>
            {% endif %}
        </ul>
    </div>
</nav>

<!-- CSS for the navbar -->
<style>
    .navbar {
        padding: 1rem 2rem;
    }

    .navbar-brand span {
        font-family: 'Dancing Script', cursive;
        font-size: 2.5rem;
        color: #fff;
        font-weight: bold;
    }

    .navbar-nav .nav-link {
        font-size: 1.1rem;
        font-weight: 500;
        color: #fff;
        transition: all 0.3s ease-in-out;
    }

    .navbar-nav .nav-link:hover {
        color: #ff5722;
        text-decoration: underline;
    }

    .navbar-nav .nav-link.active {
        color: #ff5722 !important;
    }

    .bg-gradient {
        background: linear-gradient(to bottom right, #0066cc, #0e5e74)
    }

    .navbar-toggler {
        border-color: #fff;
    }

    .navbar-toggler-icon {
        background-color: #fff;
    }

    .navbar .nav-item i {
        margin-right: 8px;
    }

    .logo {
        width: 100px;
        height: auto;
        margin-right: 10px;
    }
</style>

<!-- Make sure to include Bootstrap Icons and Font Awesome for icons -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css" rel="stylesheet">
